<link rel='stylesheet' href='//cdnjs.cloudflare.com/ajax/libs/c3/0.3.0/c3.min.css' media='screen' charset='utf-8'>

<div class='row text-center'>
  <div class='col-xs-12 col-md-4'>
    <div id='chart-today'></div>
    <h3 class='text-success'>Heute gewonnen: <%= stats[:won_today] %></h3>
    <h3 class='text-danger'>Heute verloren: <%= stats[:lost_today] %></h3>
  </div>

  <div class='col-xs-12 col-md-4'>
    <div id='chart-last-week'></div>
    <h3 class='text-success'>Letzte Woche gewonnen: <%= stats[:won_last_week] %></h3>
    <h3 class='text-danger'>Letzte Woche verloren: <%= stats[:lost_last_week] %></h3>
  </div>

  <div class='col-xs-12 col-md-4'>
    <div id='chart-overall'></div>
    <h3 class='text-success'>Insgesammt gewonnen: <%= stats[:won_overall] %></h3>
    <h3 class='text-danger'>Insgesammt verloren: <%= stats[:lost_overall] %></h3>
  </div>
</div>

<script charset='utf-8' src='//cdnjs.cloudflare.com/ajax/libs/c3/0.3.0/c3.min.js'></script>
<script charset='utf-8' src='//cdnjs.cloudflare.com/ajax/libs/d3/3.4.12/d3.min.js'></script>

<script charset='utf-8'>
  var chartColors = {
    'Gewonnen': '#3c763d',
    'Verloren': '#a94442'
  }

  var chartToday = c3.generate({
    bindto: '#chart-today',
    data: {
        columns: [
            ['Gewonnen', <%= stats[:won_today] %>],
            ['Verloren', <%= stats[:lost_today] %>],
        ],
        type : 'donut',
        colors: chartColors
    },
    donut: {
        title: 'Heute'
    }
  });

  var chartLastWeek = c3.generate({
    bindto: '#chart-last-week',
    data: {
        columns: [
            ['Gewonnen', <%= stats[:won_last_week] %>],
            ['Verloren', <%= stats[:lost_last_week] %>],
        ],
        type : 'donut',
        colors: chartColors
    },
    donut: {
        title: 'Letzte Woche'
    }
  });

  var chartOverall = c3.generate({
    bindto: '#chart-overall',
    data: {
      columns: [
        ['Gewonnen', <%= stats[:won_overall] %>],
        ['Verloren', <%= stats[:lost_overall] %>],
      ],
      type : 'donut',
      colors: chartColors
    },
    donut: {
      title: 'Insgesammt'
    }
  });
</script>
